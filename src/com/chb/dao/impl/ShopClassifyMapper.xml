<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.chb.dao.ShopClassifyDao">
	<!-- 查找所有的商店分类 -->
    <select id="findAllShopClassify" resultType="ShopClassify">
        SELECT * FROM shop_classify
    </select>
    
    <!-- 商店字段 -->
    <sql id="Base_Column_List">
		id,shopPhoto,shopName,monthSales,startPrice,shopNotice
	</sql>
    <!-- 分页查找商店 -->
    <select id="findShopByPage" parameterType="Page" resultType="Shop">
    	SELECT <include refid="Base_Column_List" /> FROM shop LIMIT #{startColum},9
    </select>
    
    <!-- 根据商店id查找3件商品 -->
    <select id="findGoodsByShopId" parameterType="Shop" resultType="Goods">
    	SELECT goodsName,goodsPhoto,goodsPrice
		FROM goods
		WHERE shopId =#{id}
		ORDER BY id DESC
		LIMIT 0,3
    </select>
    
    <!-- 根据关键字模糊查询商店 -->
    <select id="findShopByKeyWords" parameterType="Shop" resultType="Shop">
    	SELECT <include refid="Base_Column_List" />
		FROM shop
		WHERE shopName LIKE '%'#{shopName}'%'
    </select>
   
</mapper>